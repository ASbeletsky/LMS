@using LMS.Identity;
@model LMS.Dto.UserDTO;
@{
    var roles = ((IEnumerable<SelectListItem>)ViewData["AllRoles"]);
    var englishLevels = new List<SelectListItem>()
    {
        new SelectListItem { Value = "A0", Text = "beginner" },
        new SelectListItem { Value = "A1", Text = "starter" },
        new SelectListItem { Value = "A2", Text = "elementary" },
        new SelectListItem { Value = "A2-B1", Text = "pre-intermediate" },
        new SelectListItem { Value = "B1", Text = "intermediate" },
        new SelectListItem { Value = "B2", Text = "upper-intermediate" },
        new SelectListItem { Value = "C1", Text = "advanced" },
        new SelectListItem { Value = "C2", Text = "proficiency" }
    };
}

<div class="card-body">
    <div asp-validation-summary="ModelOnly"></div>
    <input asp-for="Id" type="hidden" />
    <input asp-for="Examinee.Id" type="hidden" />
    <div class="form-group">
        <div class="form-row">
            <div class="col-md-6">
                <label asp-for="FirstName">First name</label>
                <input asp-for="FirstName" class="form-control" id="InputFirstName" type="text" aria-describedby="nameHelp" placeholder="Enter first name">
                <span asp-validation-for="FirstName"></span>

            </div>
            <div class="col-md-6">
                <label asp-for="LastName">Last name</label>
                <input asp-for="LastName" class="form-control" id="InputLastName" type="text" aria-describedby="nameHelp" placeholder="Enter last name">
                <span asp-validation-for="LastName"></span>
            </div>
        </div>
    </div>
    <div class="form-group">
        <label asp-for="UserName">Username</label>
        <input asp-for="UserName" class="form-control" id="InputUserName" type="text" aria-describedby="UserNameHelp" placeholder="Enter username">
        <span asp-validation-for="UserName"></span>
    </div>
    <div class="form-group">
        <div class="form-row">
            <div class="col-md-6">
                <label asp-for="Password">Password</label>
                <input asp-for="Password" class="form-control" id="InputPassword1" type="password" placeholder="Password">
                <span asp-validation-for="Password"></span>
            </div>
            <div class="col-md-6">
                <label asp-for="PasswordConfirm">Confirm password</label>
                <input asp-for="PasswordConfirm" class="form-control" id="ConfirmPassword" type="password" placeholder="Confirm password">
                <span asp-validation-for="PasswordConfirm"></span>
            </div>
        </div>
    </div>
    <div class="form-group">
        <label asp-for="Roles" class="control-label">Select roles</label>
        <select required multiple asp-for="Roles" asp-items="@roles" class="form-control selectpicker" aria-describedby="RolesHelp" placeholder="Select role(s)" onchange="roleSelect(this)"></select>
        <span asp-validation-for="Roles"></span>
    </div>
    <div id="ExamineeData" class=" @(Model?.Roles?.Contains(Roles.Examinee) == true? "" : "collapse")">
        <div class="form-group">
            <div class="form-row">
                <div class="col-md-6">
                    <label asp-for="Email">Email</label>
                    <input asp-for="Email" class="form-control" id="InputEmail" type="email" placeholder="Email">
                    <span asp-validation-for="Email"></span>
                </div>
                <div class="col-md-6">
                    <label asp-for="PhoneNumber">Phone number</label>
                    <input asp-for="PhoneNumber" class="form-control" id="InputPhoneNumber" type="number" placeholder="Phone number">
                    <span asp-validation-for="PhoneNumber"></span>
                </div>
            </div>
        </div>
        <div class="form-group">
            <div class="form-row">
                <div class="col-md-6">
                    <label asp-for="Examinee.Year">Year of birth</label>
                    <input asp-for="Examinee.Year" class="form-control" id="InputYear" type="number" min="1900" placeholder="Year of birth">
                    <span asp-validation-for="Examinee.Year"></span>
                </div>
                <div class="col-md-6">
                    <label asp-for="Examinee.EnglishLevel" class="control-label">English level</label>
                    <select asp-for="Examinee.EnglishLevel" asp-items="@englishLevels" class="form-control custom-select" id="InputEnglishLevel" placeholder="English level"></select>
                    <span asp-validation-for="Examinee.EnglishLevel"></span>
                </div>
            </div>
        </div>
        <div class="form-group">
            <div class="form-row">
                <div class="col-md-6">
                    <label asp-for="Examinee.College">College</label>
                    <input asp-for="Examinee.College" class="form-control" id="InputCollage" type="text" placeholder="College">
                    <span asp-validation-for="Examinee.College"></span>
                </div>
                <div class="col-md-6">
                    <label asp-for="Examinee.Faculty">Faculty</label>
                    <input asp-for="Examinee.Faculty" class="form-control" id="InputFaculty" type="text" placeholder="Faculty">
                    <span asp-validation-for="Examinee.Faculty"></span>
                </div>
            </div>
        </div>
        <div class="form-group">
            <div class="form-row">
                <div class="col-md-6">
                    <label asp-for="Examinee.Specialty">Specialty</label>
                    <input asp-for="Examinee.Specialty" class="form-control" id="InputSpecialty" type="text" placeholder="Specialty">
                    <span asp-validation-for="Examinee.Specialty"></span>
                </div>
                <div class="col-md-6">
                    <label asp-for="Examinee.Course">Course</label>
                    <input asp-for="Examinee.Course" class="form-control" id="InputCourse" type="number" min="1" placeholder="Course">
                    <span asp-validation-for="Examinee.Course"></span>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label asp-for="Examinee.Comment">Comment</label>
            <input asp-for="Examinee.Comment" class="form-control" id="InputComment" type="text" placeholder="Comment">
            <span asp-validation-for="Examinee.Comment"></span>
        </div>
    </div>
    <input type="submit" class="btn btn-primary btn-block" value="Register" />
</div>

<script>
    function roleSelect(select) {
        var selected = $(select).find("option:selected").val();
        if (selected ==("@Roles.Examinee")) {
            $('#ExamineeData').collapse('show');
        }
        else {
            $('#ExamineeData').collapse('hide');
        }
    }
</script>